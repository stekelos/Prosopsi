<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Αρχιτεκτονικός Σχεδιαστής Πρόσοψης</title>
    
    <!-- React & Babel -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    
    <!-- TailwindCSS μέσω CDN -->
    <script>
        tailwind.config = {
            theme: {
                extend: {}
            }
        }
    </script>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div id="root" class="p-5"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        const ProportionalArchitecturalFacadePlanner = () => {
            const [facadeDimensions, setFacadeDimensions] = useState(null);
            const [objects, setObjects] = useState([]);
            const [inputText, setInputText] = useState('');
            const [stage, setStage] = useState('dimensions');

            const setFacadeSize = () => {
                const parts = inputText.split(',').map(part => parseFloat(part.trim()));
                if (parts.length !== 2 || isNaN(parts[0]) || isNaN(parts[1])) {
                    alert('Παρακαλώ εισάγετε 2 αριθμούς: πλάτος, ύψος');
                    return;
                }
                setFacadeDimensions({ width: parts[0], height: parts[1] });
                setStage('objects');
                setInputText('');
            };

            const addObject = () => {
                const parts = inputText.split(',').map(part => part.trim());
                if (parts.length < 5) {
                    alert('Παρακαλώ εισάγετε: όνομα, πλάτος, ύψος, x, y');
                    return;
                }
                const newObject = {
                    id: Date.now().toString(),
                    name: parts[0],
                    width: parseFloat(parts[1]),
                    height: parseFloat(parts[2]),
                    x: parseFloat(parts[3]),
                    y: parseFloat(parts[4]),
                    color: parts[5] || 'rgba(0,0,255,0.3)'
                };
                setObjects([...objects, newObject]);
                setInputText('');
            };

            return (
                <div className="container mx-auto p-4 max-w-3xl bg-white shadow-md rounded-lg">
                    <h1 className="text-xl font-bold mb-4">Αρχιτεκτονικός Σχεδιαστής Πρόσοψης</h1>

                    {stage === 'dimensions' ? (
                        <>
                            <p className="text-gray-700 mb-2">Εισάγετε τις διαστάσεις της πρόσοψης (πλάτος, ύψος)</p>
                            <input 
                                type="text" 
                                value={inputText} 
                                onChange={(e) => setInputText(e.target.value)} 
                                className="border px-2 py-1 w-full rounded mb-2"
                                placeholder="π.χ. 10,8"
                            />
                            <button 
                                onClick={setFacadeSize} 
                                className="bg-blue-500 text-white px-4 py-2 rounded w-full"
                            >
                                Ορισμός Διαστάσεων
                            </button>
                        </>
                    ) : (
                        <>
                            <p className="text-gray-700 mb-2">Προσθέστε αντικείμενα: όνομα, πλάτος, ύψος, x, y</p>
                            <input 
                                type="text" 
                                value={inputText} 
                                onChange={(e) => setInputText(e.target.value)} 
                                className="border px-2 py-1 w-full rounded mb-2"
                                placeholder="π.χ. πόρτα,1.2,2.1,1.5,0"
                            />
                            <button 
                                onClick={addObject} 
                                className="bg-green-500 text-white px-4 py-2 rounded w-full"
                            >
                                Προσθήκη Αντικειμένου
                            </button>
                        </>
                    )}

                    {objects.length > 0 && (
                        <div className="mt-4">
                            <h3 className="text-lg font-semibold">Αντικείμενα</h3>
                            {objects.map((obj) => (
                                <div key={obj.id} className="flex justify-between items-center bg-gray-200 p-2 rounded mb-2">
                                    <span>{obj.name} ({obj.width}x{obj.height}, {obj.x},{obj.y})</span>
                                    <button 
                                        onClick={() => setObjects(objects.filter(o => o.id !== obj.id))}
                                        className="bg-red-500 text-white px-2 py-1 rounded"
                                    >
                                        Διαγραφή
                                    </button>
                                </div>
                            ))}
                        </div>
                    )}

                    {facadeDimensions && (
                        <button 
                            onClick={() => { setFacadeDimensions(null); setObjects([]); setStage('dimensions'); }} 
                            className="bg-red-500 text-white px-4 py-2 rounded w-full mt-4"
                        >
                            Επαναφορά
                        </button>
                    )}
                </div>
            );
        };

        document.addEventListener("DOMContentLoaded", function() {
            ReactDOM.createRoot(document.getElementById("root")).render(<ProportionalArchitecturalFacadePlanner />);
        });
    </script>
</body>
</html>
